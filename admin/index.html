<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SP CLick - APP ADM</title>
</head>

<body>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-app.js"
        import { initializeAuth, getAuth, signInWithEmailAndPassword, onAuthStateChanged } from 'https://www.gstatic.com/firebasejs/10.4.0/firebase-auth.js';
        import { getFirestore, collection, getDocs } from 'https://www.gstatic.com/firebasejs/10.4.0/firebase-firestore.js';
        import { getStorage } from 'https://www.gstatic.com/firebasejs/10.4.0/firebase-storage.js';

        const firebaseConfig = {
            apiKey: "AIzaSyDOTW6JU8gzsGeuXJ4pO4Wc4PQeUlkkBJA",
            authDomain: "spclick-2024.firebaseapp.com",
            databaseURL: "https://spclick-2024-default-rtdb.firebaseio.com",
            projectId: "spclick-2024",
            storageBucket: "spclick-2024.appspot.com",
            messagingSenderId: "1097406315373",
            appId: "1:1097406315373:web:88785146811dabb6b17864",
            measurementId: "G-KF74M6V9Z8"
        };

        const app = initializeApp(firebaseConfig)
        export const database = getFirestore(app);
        export const storage = getStorage(app);
        export const db = getFirestore(app);
        export const auth = initializeAuth(app, {});


        const main = async () => {
            await signInWithEmailAndPassword(auth, 'saulotarsobc@gmail.com', 'asdf1234')
                .then((userCredential) => {
                    var user = userCredential.user;
                    console.log(user.displayName)
                })

            const categories = (await getDocs(collection(db, "categories"))).docs.map((doc) => doc.data());
            const places = (await getDocs(collection(db, "places"))).docs.map((doc) => doc.data());

            console.log({ categories, places })
        }

        main()
    </script>
</body>

</html>